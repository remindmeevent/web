#{extends 'main.html' /}
#{set title:'Login' /}

<h1>Login</h1>
#{form @Secure.authenticate()}
	#{if flash.error}
		<p class="error">
			&{flash.error}
		</p>
	#{/if}
	<div class="clearfix ${errors.forKey('username') ? 'error' : ''}">
    	<label for="username">Email</label>
        <div class="input">
        	<input class="xlarge ${errors.forKey('username') ? 'error' : ''}" type="text" name="username" id="username" value="${flash['username']}" />
			<span class="help-inline">#{error 'username'/}</span>
        </div>
   	</div>
   	<div class="clearfix ${errors.forKey('password') ? 'error' : ''}">
    	<label for="password">Password</label>
        <div class="input">
        	<input class="xlarge ${errors.forKey('password') ? 'error' : ''}" type="password" name="password" id="password" />
			<span class="help-inline">#{error 'password'/}</span>
        </div>
   	</div>
   	<div class="clearfix">
    	<label for="remember">Remember me</label>
        <div class="input">
        	<input type="checkbox" name="remember" id="remember" value="true" ${flash.remember ? 'checked="true"' : ''} />
        </div>
   	</div>
   	
	<div class="actions">
        <button type="submit" class="btn primary">Sign in</button>
    </div>

#{/form}